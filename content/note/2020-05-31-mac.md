---
title: "MacOS tips"
date: 2020-05-31T09:59:35+08:00
---

## Tools

### color picker
**Digital Color Meter** in MacOS

## Networking

### brew install with proxy
```bash
ALL_PROXY=socks5://localhost:1080 brew install minetest

# or with password
ALL_PROXY=socks5://a:a@localhost:8765 brew install minetest

```

### open multiple *Wireshark* instances
```bash
$ open -n /Applications/Wireshark.app
```

### lsof
```bash
$ lsof -nP -i4TCP:1080 -sTCP:LISTEN
$ lsof -nP -i4TCP:1080 -sTCP:ESTABLISHED
$ lsof -iTCP -sTCP:LISTEN -n -P

```

 `netstat -anp` not working in MacOS

### tcpdump
```bash
$ sudo tcpdump -i all host 127.0.0.1 and port 1080 -w cap1.pcap
$ open cap1.pcap
```

### max connection in MacOS
```bash
$ sudo sysctl -a |grep somaxconn
kern.ipc.somaxconn: 128

$ sudo sysctl -w kern.ipc.somaxconn=4096
kern.ipc.somaxconn: 128 -> 4096
```
[https://content.nanobox.io/fixing-too-many-open-files-in-macos/](https://content.nanobox.io/fixing-too-many-open-files-in-macos/)
